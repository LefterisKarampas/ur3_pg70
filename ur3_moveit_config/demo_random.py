
#!/usr/bin/env python
import rospy
from trajectory_msgs.msg import JointTrajectory
from trajectory_msgs.msg import JointTrajectoryPoint
from sensor_msgs.msg import JointState
from sensor_msgs.msg import Joy
import time
import message_filters
import random


joint_names = ['elbow_joint', 'shoulder_lift_joint', 'shoulder_pan_joint', 'wrist_1_joint', 'wrist_2_joint', 'wrist_3_joint']

'''move = [[1.4498837407117549e-05, -8.982534122292662e-05, 0.00012121603053660834, -4.391873554698833e-05, -3.847443626003866e-05, -4.891700065634552e-05],
        [-0.06537954009582633, -0.12197613146963028, 0.039722703796689615, 0.04468607766099832, 0.026007469230458404, -0.10095418371551325],
        [-0.13077357902905978, -0.24386243759803763, 0.07932419156284262, 0.08941607405754363, 0.05205341289717685, -0.20185945043037015],
        [-0.19616761796229323, -0.365748743726445, 0.11892567932899563, 0.13414607045408894, 0.07809935656389529, -0.30276471714522707],
        [-0.2615616568955267, -0.48763504985485234, 0.15852716709514864, 0.17887606685063426, 0.10414530023061373, -0.40366998386008396],
        [-0.32373728904728255, -0.6035226556503601, 0.19617992766911024, 0.22140473773236186, 0.12890950067914858, -0.49960964811830155],
        [-0.3859129211990384, -0.7194102614458678, 0.23383268824307185, 0.2639334086140895, 0.15367370112768342, -0.5955493123765191],
        [-0.4480885533507943, -0.8352978672413756, 0.27148544881703346, 0.3064620794958171, 0.17843790157621825, -0.6914889766347367],
        [-0.5102641855025501, -0.9511854730368834, 0.30913820939099507, 0.34899075037754473, 0.20320210202475308, -0.7874286408929543],
        [-0.6217418226801517, -1.1589658832963008, 0.3766488217701527, 0.42524279008172927, 0.2476035300490883, -0.9594455595828322],
        [-0.733219459857753, -1.366746293555718, 0.4441594341493103, 0.5014948297859138, 0.2920049580734235, -1.13146247827271],
        [-0.825386656346489, -1.5385345018177379, 0.49997768337531956, 0.5645389164011921, 0.3287159267886571, -1.273685782222752],
        [-0.917553852835225, -1.7103227100797578, 0.5557959326013288, 0.6275830030164705, 0.3654268955038906, -1.415909086172794],
        [-0.9839737950721403, -1.8341213156785812, 0.5960243642898069, 0.6730164855132075, 0.39188391847365533, -1.5184075704697215],
        [-1.0503937373090557, -1.9579199212774046, 0.6362527959782849, 0.7184499680099443, 0.41834094144342004, -1.620906054766649],
        [-1.0975032388571058, -2.0457263248788307, 0.6647888645136145, 0.7506754974177751, 0.4371075051040831, -1.6936109243237403],
        [-1.1446127404051558, -2.1335327284802568, 0.6933249330489442, 0.7829010268256058, 0.4558740687647461, -1.7663157938808318],
        [-1.1788486148272954, -2.1973443307500844, 0.7140660928155083, 0.8063212541741658, 0.4695136595526747, -1.8191582536113662],
        [-1.213084489249435, -2.261155933019912, 0.7348072525820724, 0.8297414815227259, 0.4831532503406033, -1.8720007133419005],
        [-1.2408835501086197, -2.3129701346239404, 0.7516509579642536, 0.8487590578416505, 0.49422935469216467, -1.9149119681591562],
        [-1.2686826109678042, -2.3647843362279692, 0.7684946633464349, 0.8677766341605752, 0.505305459043726, -1.9578232229764119]]
        '''
move = [[1.7340807784229213, -3.1415989073138357, 0.5935938706566901, -3.1415898324124667, -1.9654497869030347, -1.6559584829971072]]

def up():
        rospy.init_node('demo_controller')
        cmd_publisher = rospy.Publisher('/arm_controller/command', JointTrajectory, queue_size=10)
        cmd = JointTrajectory()
        cmd.header.stamp = rospy.Time.now()
        cmd.joint_names = joint_names
        time.sleep(1)
        for i in range(len(move)):
                points = []
                positions = move[i]
                point = JointTrajectoryPoint()
                point.positions = positions
                point.time_from_start.secs = 0.0
                point.time_from_start.nsecs = 157114594
                points.append(point)
                cmd.points = points
                cmd_publisher.publish(cmd)
        print 'Sent message!'

if __name__ == '__main__':
        up()