#!/usr/bin/env python
import rospy
from trajectory_msgs.msg import JointTrajectory
from trajectory_msgs.msg import JointTrajectoryPoint
from sensor_msgs.msg import JointState
from sensor_msgs.msg import Joy
import time
import message_filters
import random


joint_names = ['elbow_joint', 'shoulder_lift_joint', 'shoulder_pan_joint', 'wrist_1_joint', 'wrist_2_joint', 'wrist_3_joint']
move = [[1.1127910101826899e-05, -3.103888506039709e-05, -0.0001856965884758921, -5.856555807604025e-05, 4.135556222895076e-05, 8.982152673553401e-05],
		[8.1608116730628e-06, -0.058193496606688495, -0.00017738815109096673, -0.05822081698676909, 3.696684591723928e-05, 8.625508010356341e-05],
		[5.193713244298703e-06, -0.1163559543283166, -0.00016907971370604133, -0.11638306841546214, 3.2578129605527806e-05, 8.26886334715928e-05],
		[1.7203239543781538e-06, -0.18445789976359328, -0.00015936310447889183, -0.1844847899547008, 2.7445033566502082e-05, 7.852587641702267e-05],
		[-1.7530653355423954e-06, -0.2525598451988699, -0.00014964649525174236, -0.25258651149393946, 2.2311937527476354e-05, 7.436311936245255e-05],
		[-6.239036347775846e-06, -0.3405407660614438, -0.0001371135423401447, -0.34056717325426933, 1.569008203382214e-05, 6.900774146268336e-05],
		[-1.0725007360009298e-05, -0.4285216869240176, -0.00012458058942854707, -0.42854783501459925, 9.06822654016792e-06, 6.365236356291418e-05],
		[-1.4840204587525808e-05, -0.5093649383891188, -0.00011316915553785011, -0.509391006805697, 3.033986394972685e-06, 5.8849614565724664e-05],
		[-1.8955401815042316e-05, -0.5902081898542201, -0.00010175772164715315, -0.5902341785967947, -3.000253750222551e-06, 5.4046865568535145e-05],
		[-2.131646975081204e-05, -0.6368971270970789, -9.540566948270578e-05, -0.6369234302283369, -6.3705037438713334e-06, 5.1541995221704e-05],
		[-2.3677537686581766e-05, -0.6835860643399378, -8.90536173182584e-05, -0.6836126818598791, -9.740753737520117e-06, 4.9037124874872844e-05],
		[-2.59905586467177e-05, -0.7300733233867343, -8.330877701867713e-05, -0.7301011306792469, -1.2817490784422206e-05, 4.719705950655153e-05],
		[-2.830357960685363e-05, -0.7765605824335307, -7.756393671909585e-05, -0.7765895794986147, -1.5894227831324296e-05, 4.5356994138230224e-05],
		[-3.227463590746877e-05, -0.8567987993104442, -6.797413842299718e-05, -0.8568303428531894, -2.1047929136279454e-05, 4.254866007657023e-05],
		[-3.624569220808391e-05, -0.9370370161873577, -5.838434012689852e-05, -0.9370711062077641, -2.6201630441234616e-05, 3.974032601491024e-05],
		[-4.104576617893865e-05, -1.0341507119793298, -4.6872062832541166e-05, -1.0341880268299422, -3.239381387521631e-05, 3.644785760658091e-05],
		[-4.5845840149793396e-05, -1.1312644077713019, -3.535978553818381e-05, -1.1313049474521204, -3.8585997309198005e-05, 3.315538919825157e-05],
		[-5.0526175863518095e-05, -1.241101296897177, -3.380681667711002e-05, -1.241162825333034, -4.007188179411741e-05, 4.236699217452705e-05],
		[-5.52065115772428e-05, -1.3509381860230525, -3.2253847816036225e-05, -1.3510207032139476, -4.1557766279036814e-05, 5.157859515080253e-05],
		[-5.9886847290967506e-05, -1.460775075148928, -3.070087895496243e-05, -1.4608785810948612, -4.304365076395622e-05, 6.079019812707801e-05]]

home = [-6.45671830046922e-05, -1.570611964274803, -2.9147910093888635e-05, -1.570736458975775, -4.452953524887562e-05, 7.000180110335349e-05]


def up():
	rospy.init_node('demo_controller')
	cmd_publisher = rospy.Publisher('/arm_controller/command', JointTrajectory, queue_size=10)
	cmd = JointTrajectory()
	cmd.header.stamp = rospy.Time.now()
	cmd.joint_names = joint_names
	time.sleep(1)
	for i in range(len(move)):
		points = []
		positions = move[i]
		point = JointTrajectoryPoint()
		point.positions = positions
		point.time_from_start.secs = 0.0
		point.time_from_start.nsecs = 157114594
		points.append(point)
		cmd.points = points
		cmd_publisher.publish(cmd)
	print 'Sent message!'

if __name__ == '__main__':
	up()